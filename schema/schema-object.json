{
	"$schema": "http://json-schema.org/schema#",
	"$id": "https://linked.art/ns/v1/schema-object.json",
	"title": "Man Made Object Schema",
	"type": "object",
	"allOf": [{"$ref": "#/definitions/TypedRef"}],
	"properties": {
		"@context": {"type": "array", "items": {"type": "string", "format": "uri"}},
		"type": {"type": "string", "enum": ["ManMadeObject"]},
		"dimension": {"type": "array", "items": {"$ref": "#/definitions/Dimension"}},
		"made_of": {"type": "array", "items": {"$ref": "#/definitions/MaterialRef"}},
		"part": {"type": "array", "items": {"$ref": "https://linked.art/ns/v1/schema-object.json"}},

		"produced_by": {"$ref": "#/definitions/ProductionRef"},
		"taken_out_of_existence_by": {"$ref": "#/definitions/EndOfExistence"},
		"shows": {"type": "array", "items": {"$ref": "#/definitions/VisualItemRef"}},
		"carries": {"type": "array", "items": {"$ref": "#/definitions/LinguisticObjectRef"}},
		"current_owner": {"$ref": "#/definitions/ActorRefOrPersonRefOrGroupRef"},
		"current_location": {"$ref": "#/definitions/PlaceRef"}
	},

	"definitions": {
		"GenericRef": {
			"type": "object", 
			"properties": {
				"id": {"type": "string", "format": "uri"},
				"label": {"type": "string"}
			}
		},
		"TypedRef": {
			"type": "object",
			"allOf": [{"$ref": "#/definitions/GenericRef"}],
			"properties": {
				"classified_as": {"type": "array", "items": {"$ref": "#/definitions/Concept"}},
			}
		},

		"CoreResource": {
			"type": "object",
			"allOf": [{"$ref": "#/definitions/TypedRef"}],
			"properties": {
				"identified_by": {"type": "array", "items": {"$ref": "#/definitions/NameOrIdentifier"}},
				"referred_to_by": {"type": "array", "items": {"$ref": "#/definitions/LingObjOrLingObjRef"}},
				"representation": {"type": "array", "items": {"$ref": "#/definitions/VisualItemRef"}},
				"subject_of": {"type": "array", "items": {"$ref": "#/definitions/LinguisticObjectRef"}}
			}
		},

		"Name": {
			"type": "object",
			"allOf": [{"$ref": "#/definitions/TypedRef"}],
			"properties": {	
				"type": {"type": "string", "enum": ["Name"]},
				"value": {"type": "string"},
				"part": {"type": "array", "items": {"$ref": "#/definitions/Name"}},
				"alternative_form": {"type": "array", "items": {"$ref": "#/definitions/Name"}},
				"language": {"type": "array", "items": {"type": "string"}},
				"referred_to_by": {"type": "array", "items": {"$ref": "#/definitions/LinguisticObjectRef"}}
			},
			"required": ["type"]
		},
		"Identifier": {
			"type": "object",
			"allOf": [{"$ref": "#/definitions/TypedRef"}],
			"properties": {	
				"type": {"type": "string", "enum": ["Identifier"]},
				"value": {"type": "string"},
				"part": {"type": "array", "items": {"$ref": "#/definitions/Identifier"}},
				"alternative_form": {"type": "array", "items": {"$ref": "#/definitions/Identifier"}},
				"conforms_to": {"$ref": "#/definitions/InformationObjectRef"}
			}
		},
		"LinguisticObject": {
			"type": "object",
			"allOf": [{"$ref": "#/definitions/TypedRef"}],
			"properties": {
				"value": {"type": "string"},
				"part": {"type": "array", "items": {"$ref": "#/definitions/LinguisticObject"}},
				"created_by": {"$ref": "#/definitions/CreationRef"}
			}
		},
		"TimeSpan": {
			"type": "object",
			"allOf": [{"$ref": "#/definitions/TypedRef"}],
			"properties": {
				"type": {"type": "string", "enum": ["TimeSpan"]},
				"begin_of_the_begin": {"type": "string", "format": "date-time"},
				"end_of_the_begin": {"type": "string", "format": "date-time"},	
				"begin_of_the_end": {"type": "string", "format": "date-time"},
				"end_of_the_end": {"type": "string", "format": "date-time"},
				"min_duration": {"$ref": "#/definitions/Dimension"},
				"max_duration": {"$ref": "#/definitions/Dimension"}
			}
		},
		"Dimension": {
			"type": "object",
			"allOf": [{"$ref": "#/definitions/TypedRef"}],
			"properties": {
				"type": {"type": "string", "enum": ["Dimension"]},
				"value": {"type": "number"},
				"unit": {"$ref": "#/definitions/UnitRef"}
			}
		},
		"MonetaryAmount": {
			"type": "object",
			"allOf": [{"$ref": "#/definitions/TypedRef"}],
			"properties": {
				"type": {"type": "string", "enum": ["MonetaryAmount"]},
				"value": {"type": "number"},
				"unit": {"$ref": "#/definitions/CurencyRef"}
			}
		},

		"NameOrIdentifier": {
			"anyOf": [
				{"$ref": "#/definitions/Name"},
				{"$ref": "#/definitions/Identifier"}
			]
		},
		"LingObjOrLingObjRef": {
			"anyOf": [
				{"$ref": "#/definitions/LinguisticObject"},
				{"$ref": "#/definitions/LinguisticObjectRef"}
			]
		},
		"ActorRefOrPersonRefOrGroupRef": {
			"anyOf": [
				{"$ref": "#/definitions/ActorRef"},
				{"$ref": "#/definitions/PersonRef"},
				{"$ref": "#/definitions/GroupRef"}
			]
		},
		
		"ActorRef": {
			"type": "object",
			"allOf": [{"$ref": "#/definitions/GenericRef"}],
			"properties": {"type": {"type": "string", "enum": ["Actor"]}}
		},
		"PersonRef": {
			"type": "object",
			"allOf": [{"$ref": "#/definitions/GenericRef"}],
			"properties": {"type": {"type": "string", "enum": ["Person"]}}
		},
		"GroupRef": {
			"type": "object",
			"allOf": [{"$ref": "#/definitions/GenericRef"}],
			"properties": {"type": {"type": "string", "enum": ["Group"]}}
		},
		"PlaceRef": {
			"type": "object",
			"allOf": [{"$ref": "#/definitions/GenericRef"}],
			"properties": {"type": {"type": "string", "enum": ["Place"]}}
		},
		"CreationRef": {
			"type": "object",
			"allOf": [{"$ref": "#/definitions/GenericRef"}],
			"properties": {"type": {"type": "string", "enum": ["Creation"]}}
		},		
		"ProductionRef": {
			"type": "object",
			"allOf": [{"$ref": "#/definitions/GenericRef"}],
			"properties": {"type": {"type": "string", "enum": ["Production"]}}
		},		
		"CreationRef": {
			"type": "object",
			"allOf": [{"$ref": "#/definitions/GenericRef"}],
			"properties": {"type": {"type": "string", "enum": ["Creation"]}}
		},
		"VisualItemRef": {
			"type": "object",
			"allOf": [{"$ref": "#/definitions/GenericRef"}],
			"properties": {"type": {"type": "string", "enum": ["VisualItem"]}}
		},
		"ConceptRef": {
			"type": "object",
			"allOf": [{"$ref": "#/definitions/GenericRef"}],
			"properties": {"type": {"type": "string", "enum": ["Type"]}}
		},
		"UnitRef": {
			"type": "object",
			"allOf": [{"$ref": "#/definitions/GenericRef"}],
			"properties": {"type": {"type": "string", "enum": ["Unit"]}}
		},
		"CurrencyRef": {
			"type": "object",
			"allOf": [{"$ref": "#/definitions/GenericRef"}],
			"properties": {"type": {"type": "string", "enum": ["Currency"]}}
		},
		"MaterialRef": {
			"type": "object",
			"allOf": [{"$ref": "#/definitions/GenericRef"}],
			"properties": {"type": {"type": "string", "enum": ["Material"]}}
		},
		"InformationObjectRef": {
			"allOf": [{"$ref": "#/definitions/GenericRef"}],
			"type": "object",
			"properties": {"type": {"type": "string", "enum": ["InformationObject"]}}
		},
		"LinguisticObjectRef": {
			"allOf": [{"$ref": "#/definitions/GenericRef"}],
			"type": "object",
			"properties": {"type": {"type": "string", "enum": ["LinguisticObject"]}}
		},
		"VisualItemRef": {
			"type": "object",
			"allOf": [{"$ref": "#/definitions/GenericRef"}],
			"properties": {"type": {"type": "string", "enum": ["VisualItem"]}}
		}		
	},
	"required": ["id", "type", "label"]
}
